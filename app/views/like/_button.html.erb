<%
  if user_signed_in?
    like = likable.likes.where(user_id: current_user.id)
    button_text = like && like.count > 0 ? "Unlike" : "Like"
    link_path = like_toggle_path(type: likable.class, id: likable.id)
    link_options = { data: { turbo_stream: true } }
  else
    button_text = "Like"
    link_path = new_user_session_path
    link_options = { class: "redirect-to-login", data: { turbo_stream: false } }
  end
%>
<div class="A_Like">
  <%= link_to button_text, link_path, link_options %>
</div>